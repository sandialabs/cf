-- COM_UNCERTAINTY_PARAM definition

CREATE TABLE COM_UNCERTAINTY_PARAM (
	ID INTEGER NOT NULL IDENTITY,
	NAME VARCHAR(16777216),
	"TYPE" VARCHAR(255),
	MODEL_ID INTEGER,
	PARENT_ID INTEGER,
	"LEVEL" VARCHAR(16) DEFAULT '*',
	DEFAULT_VALUE VARCHAR(255),
	REQUIRED VARCHAR(255),
	CONSTRAINT SYS_PK_10196 PRIMARY KEY (ID)
);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_PARAM_MODEL_ID_10199 ON COM_UNCERTAINTY_PARAM (MODEL_ID);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_PARAM_PARENT_ID_10201 ON COM_UNCERTAINTY_PARAM (PARENT_ID);
CREATE UNIQUE INDEX SYS_IDX_SYS_PK_10196_10197 ON COM_UNCERTAINTY_PARAM (ID);


-- COM_UNCERTAINTY_PARAM foreign keys

ALTER TABLE COM_UNCERTAINTY_PARAM ADD CONSTRAINT FK_COM_UNCERTAINTY_PARAM_MODEL_ID FOREIGN KEY (MODEL_ID) REFERENCES MODEL(ID);
ALTER TABLE COM_UNCERTAINTY_PARAM ADD CONSTRAINT FK_COM_UNCERTAINTY_PARAM_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES COM_UNCERTAINTY_PARAM(ID);


-- COM_UNCERTAINTY_SELECT_VALUE definition

CREATE TABLE COM_UNCERTAINTY_SELECT_VALUE (
	ID INTEGER NOT NULL IDENTITY,
	NAME VARCHAR(16777216),
	PARAMETER_ID INTEGER,
	CONSTRAINT SYS_PK_10216 PRIMARY KEY (ID)
);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_SELECT_VALUE_PARAMETER_ID_10219 ON COM_UNCERTAINTY_SELECT_VALUE (PARAMETER_ID);
CREATE UNIQUE INDEX SYS_IDX_SYS_PK_10216_10217 ON COM_UNCERTAINTY_SELECT_VALUE (ID);


-- COM_UNCERTAINTY_SELECT_VALUE foreign keys

ALTER TABLE COM_UNCERTAINTY_SELECT_VALUE ADD CONSTRAINT FK_COM_UNCERTAINTY_SELECT_VALUE_PARAMETER_ID FOREIGN KEY (PARAMETER_ID) REFERENCES COM_UNCERTAINTY_PARAM(ID);


-- COM_UNCERTAINTY_GROUP definition

CREATE TABLE COM_UNCERTAINTY_GROUP (
	ID INTEGER NOT NULL IDENTITY,
	NAME VARCHAR(255),
	MODEL_ID INTEGER,
	USER_CREATION_ID INTEGER,
	CONSTRAINT SYS_PK_10188 PRIMARY KEY (ID)
);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_GROUP_MODEL_ID_10191 ON COM_UNCERTAINTY_GROUP (MODEL_ID);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_GROUP_USER_CREATION_ID_10193 ON COM_UNCERTAINTY_GROUP (USER_CREATION_ID);
CREATE UNIQUE INDEX SYS_IDX_SYS_PK_10188_10189 ON COM_UNCERTAINTY_GROUP (ID);


-- COM_UNCERTAINTY_GROUP foreign keys

ALTER TABLE COM_UNCERTAINTY_GROUP ADD CONSTRAINT FK_COM_UNCERTAINTY_GROUP_MODEL_ID FOREIGN KEY (MODEL_ID) REFERENCES MODEL(ID);
ALTER TABLE COM_UNCERTAINTY_GROUP ADD CONSTRAINT FK_COM_UNCERTAINTY_GROUP_USER_CREATION_ID FOREIGN KEY (USER_CREATION_ID) REFERENCES "USER"(ID);

-- COM_UNCERTAINTY definition

CREATE TABLE COM_UNCERTAINTY (
	ID INTEGER NOT NULL IDENTITY,
	GROUP_ID INTEGER,
	USER_CREATION_ID INTEGER,
	CONSTRAINT SYS_PK_10182 PRIMARY KEY (ID)
);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_GROUP_ID_10564 ON COM_UNCERTAINTY (GROUP_ID);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_USER_CREATION_ID_10185 ON COM_UNCERTAINTY (USER_CREATION_ID);
CREATE UNIQUE INDEX SYS_IDX_SYS_PK_10182_10183 ON COM_UNCERTAINTY (ID);


-- COM_UNCERTAINTY foreign keys

ALTER TABLE COM_UNCERTAINTY ADD CONSTRAINT FK_COM_UNCERTAINTY_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES COM_UNCERTAINTY_GROUP(ID);
ALTER TABLE COM_UNCERTAINTY ADD CONSTRAINT FK_COM_UNCERTAINTY_USER_CREATION_ID FOREIGN KEY (USER_CREATION_ID) REFERENCES "USER"(ID);

-- COM_UNCERTAINTY_VALUE definition

CREATE TABLE COM_UNCERTAINTY_VALUE (
	ID INTEGER NOT NULL IDENTITY,
	DATE_CREATION TIMESTAMP,
	DATE_UPDATE TIMESTAMP,
	"VALUE" VARCHAR(16777216),
	PARAMETER_ID INTEGER,
	UNCERTAINTY_ID INTEGER,
	USER_CREATION_ID INTEGER,
	USER_UPDATE_ID INTEGER,
	CONSTRAINT SYS_PK_10204 PRIMARY KEY (ID)
);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_VALUE_PARAMETER_ID_10209 ON COM_UNCERTAINTY_VALUE (PARAMETER_ID);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_VALUE_UNCERTAINTY_ID_10211 ON COM_UNCERTAINTY_VALUE (UNCERTAINTY_ID);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_VALUE_USER_CREATION_ID_10207 ON COM_UNCERTAINTY_VALUE (USER_CREATION_ID);
CREATE INDEX SYS_IDX_FK_COM_UNCERTAINTY_VALUE_USER_UPDATE_ID_10213 ON COM_UNCERTAINTY_VALUE (USER_UPDATE_ID);
CREATE UNIQUE INDEX SYS_IDX_SYS_PK_10204_10205 ON COM_UNCERTAINTY_VALUE (ID);


-- COM_UNCERTAINTY_VALUE foreign keys

ALTER TABLE COM_UNCERTAINTY_VALUE ADD CONSTRAINT FK_COM_UNCERTAINTY_VALUE_PARAMETER_ID FOREIGN KEY (PARAMETER_ID) REFERENCES COM_UNCERTAINTY_PARAM(ID);
ALTER TABLE COM_UNCERTAINTY_VALUE ADD CONSTRAINT FK_COM_UNCERTAINTY_VALUE_UNCERTAINTY_ID FOREIGN KEY (UNCERTAINTY_ID) REFERENCES COM_UNCERTAINTY(ID);
ALTER TABLE COM_UNCERTAINTY_VALUE ADD CONSTRAINT FK_COM_UNCERTAINTY_VALUE_USER_CREATION_ID FOREIGN KEY (USER_CREATION_ID) REFERENCES "USER"(ID);
ALTER TABLE COM_UNCERTAINTY_VALUE ADD CONSTRAINT FK_COM_UNCERTAINTY_VALUE_USER_UPDATE_ID FOREIGN KEY (USER_UPDATE_ID) REFERENCES "USER"(ID);




-- INSERT

INSERT INTO COM_UNCERTAINTY_PARAM (ID,NAME,"TYPE",MODEL_ID,PARENT_ID,"LEVEL",DEFAULT_VALUE,REQUIRED) VALUES
	 (1,'Variable Name','Text',1,NULL,'*',NULL,'false'),
	 (2,'Description','Text',1,NULL,'*',NULL,'true'),
	 (3,'Type','Select',1,NULL,'*',NULL,'true'),
	 (4,'Characterization','Select',1,NULL,'*',NULL,'true'),
	 (5,'Parameters','Text',1,NULL,'*',NULL,'false'),
	 (6,'Model Feature','Select',1,NULL,'*',NULL,'true'),
	 (7,'Comment','RichText',1,NULL,'*',NULL,'false'),
	 (8,'Feasible Physical Range','Text',1,NULL,'*',NULL,'false'),
	 (9,'References','Link',1,NULL,'*',NULL,'true');

INSERT INTO COM_UNCERTAINTY_SELECT_VALUE (ID,NAME,PARAMETER_ID) VALUES
	 (1,'epistemic',3),
	 (2,'epistemic - model form',3),
	 (3,'aleatory',3),
	 (4,'interval',4),
	 (5,'distributional',4),
	 (6,'discrete',4),
	 (7,'not characterized',4),
	 (8,'yes',6),
	 (9,'no',6),
	 (10,'N/A',6);

INSERT INTO COM_UNCERTAINTY_GROUP (ID,NAME,MODEL_ID,USER_CREATION_ID) VALUES
	 (1,'EOS Model Parameters',1,NULL),
	 (2,'Strength Model Parameters',1,NULL);

INSERT INTO COM_UNCERTAINTY (ID,GROUP_ID,USER_CREATION_ID) VALUES
	 (1,1,1),
	 (2,2,1),
	 (4,1,1),
	 (5,1,1);
	 
INSERT INTO COM_UNCERTAINTY_VALUE (DATE_CREATION,DATE_UPDATE,"VALUE",PARAMETER_ID,UNCERTAINTY_ID,USER_CREATION_ID,USER_UPDATE_ID) VALUES
	 ('2021-02-26 15:45:39.035000','2021-02-26 15:48:32.982000','Variable 1',1,1,1,1),
	 ('2021-02-26 15:45:39.048000','2021-02-26 15:48:32.982000','Explosive',2,1,1,1),
	 ('2021-02-26 15:45:39.054000','2021-02-26 15:48:32.982000','3',3,1,1,1),
	 ('2021-02-26 15:45:39.060000','2021-02-26 15:48:32.982000','6',4,1,1,1),
	 ('2021-02-26 15:45:39.065000','2021-02-26 15:48:32.982000','JWL Model Parameters in Refernce',5,1,1,1),
	 ('2021-02-26 15:45:39.069000','2021-02-26 15:48:32.982000','8',6,1,1,1),
	 ('2021-02-26 15:45:39.073000','2021-02-26 15:48:32.982000',NULL,7,1,1,1),
	 ('2021-02-26 15:45:39.078000','2021-02-26 15:48:32.982000','>0',8,1,1,1),
	 ('2021-02-26 15:45:39.081000','2021-02-26 15:48:32.982000','{"type":"LINK_FILE","value":"/W80_4_Shock_Physics/Credibility/Uncertainty_Inventory/1-Data/Composite_Correlation.xlsx"}',9,1,1,1),
	 ('2021-02-26 15:46:57.767000',NULL,NULL,1,2,1,NULL);
INSERT INTO COM_UNCERTAINTY_VALUE (DATE_CREATION,DATE_UPDATE,"VALUE",PARAMETER_ID,UNCERTAINTY_ID,USER_CREATION_ID,USER_UPDATE_ID) VALUES
	 ('2021-02-26 15:46:57.771000',NULL,'Metals',2,2,1,NULL),
	 ('2021-02-26 15:46:57.777000',NULL,'3',3,2,1,NULL),
	 ('2021-02-26 15:46:57.783000',NULL,'5',4,2,1,NULL),
	 ('2021-02-26 15:46:57.789000',NULL,NULL,5,2,1,NULL),
	 ('2021-02-26 15:46:57.795000',NULL,'8',6,2,1,NULL),
	 ('2021-02-26 15:46:57.802000',NULL,NULL,7,2,1,NULL),
	 ('2021-02-26 15:46:57.807000',NULL,'>0',8,2,1,NULL),
	 ('2021-02-26 15:46:57.813000',NULL,'{"type":"LINK_FILE","value":"/W80_4_Shock_Physics/Credibility/Uncertainty_Inventory/1-Data/Composite_Correlation.xlsx"}',9,2,1,NULL),
	 ('2021-06-18 12:20:46.254000','2021-06-18 12:22:58.050000',NULL,1,4,1,1),
	 ('2021-06-18 12:20:46.258000','2021-06-18 12:22:58.050000','Metals: Stainless steel and copper',2,4,1,1);
INSERT INTO COM_UNCERTAINTY_VALUE (DATE_CREATION,DATE_UPDATE,"VALUE",PARAMETER_ID,UNCERTAINTY_ID,USER_CREATION_ID,USER_UPDATE_ID) VALUES
	 ('2021-06-18 12:20:46.262000','2021-06-18 12:22:58.050000','3',3,4,1,1),
	 ('2021-06-18 12:20:46.270000','2021-06-18 12:22:58.050000','4',4,4,1,1),
	 ('2021-06-18 12:20:46.275000','2021-06-18 12:22:58.050000',NULL,5,4,1,1),
	 ('2021-06-18 12:20:46.281000','2021-06-18 12:22:58.050000','8',6,4,1,1),
	 ('2021-06-18 12:20:46.285000','2021-06-18 12:22:58.050000',NULL,7,4,1,1),
	 ('2021-06-18 12:20:46.288000','2021-06-18 12:22:58.050000',NULL,8,4,1,1),
	 ('2021-06-18 12:20:46.291000','2021-06-18 12:22:58.050000','{"type":"LINK_FILE","value":"/W80_4_Shock_Physics/Credibility/Uncertainty_Inventory/1-Data/Composite_Correlation.xlsx"}',9,4,1,1),
	 ('2021-06-18 12:22:41.660000','2021-06-18 12:23:42.813000',NULL,1,5,1,1),
	 ('2021-06-18 12:22:41.665000','2021-06-18 12:23:42.813000','Foam',2,5,1,1),
	 ('2021-06-18 12:22:41.669000','2021-06-18 12:23:42.813000','1',3,5,1,1);
INSERT INTO COM_UNCERTAINTY_VALUE (DATE_CREATION,DATE_UPDATE,"VALUE",PARAMETER_ID,UNCERTAINTY_ID,USER_CREATION_ID,USER_UPDATE_ID) VALUES
	 ('2021-06-18 12:22:41.673000','2021-06-18 12:23:42.813000','4',4,5,1,1),
	 ('2021-06-18 12:22:41.676000','2021-06-18 12:23:42.813000','Not characterized at all!',5,5,1,1),
	 ('2021-06-18 12:22:41.680000','2021-06-18 12:23:42.813000','8',6,5,1,1),
	 ('2021-06-18 12:22:41.684000','2021-06-18 12:23:42.813000',NULL,7,5,1,1),
	 ('2021-06-18 12:22:41.688000','2021-06-18 12:23:42.813000',NULL,8,5,1,1),
	 ('2021-06-18 12:22:41.691000','2021-06-18 12:23:42.813000','{"type":"LINK_FILE","value":"/W80_4_Shock_Physics/Credibility/Uncertainty_Inventory/1-Data/Composite_Correlation.xlsx"}',9,5,1,1);
